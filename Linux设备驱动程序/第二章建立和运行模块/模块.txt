安装内核开发工具和头文件
	sudo yum install -y kernel-devel kernel-headers gcc make

创建一个目录用于存放你的内核模块：
	mkdir -p ~/kernel_modules/hello
	cd ~/kernel_modules/hello

在该目录下创建文件 hello.c 并写入你的代码：

在同一目录下创建一个名为 Makefile 的文件，内容如下：
	obj-m += hello.o

all:
    make -C /lib/modules/$(shell uname -r)/build M=$(PWD) modules

clean:
    make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean



处理中断的代码对进程来说是异步的， 不和任何特别的进程有关。

应用程序存在于虚拟内存中， 有一个非常大的堆栈区， 堆栈， 当然， 是用来保存函数调用历史以及所有的由当前活跃的函数创建的自动变量。

模块建立之后， 下一步是加载到内核。

实际的初始化函数
static int __init initialization_function(void) {
	//initialization code here
}
module_init(initialization_function);

清理函数， 它注销接口，在模块去除之前返回所有资源给系统。
static void __exit cleanup_function(void) {
	//cleanup code here
}
module_exit(cleanup_function);